package mastermind;

import java.util.Scanner;

public class MasterMindFunctions
{

    public String[] secretCode;
    public int turnCount;
    public boolean isGameOver;

    public MasterMindFunctions()
    {
	this.turnCount = 0;
	this.isGameOver = false;
    }

    public void generateCode()
    {
	this.secretCode = generateSecretCode();
    }

    private String[] generateSecretCode()
    {
	String[] colors =
	{ "rood", "blauw", "groen", "paars", "geel", "oranje" };
	String[] code = new String[4];
	for (int i = 0; i < 4; i++)
	{
	    code[i] = colors[(int) (Math.random() * colors.length)];
	}
	return code;
    }

    public String[] getUserInput()
    {
	Scanner console = new Scanner(System.in);
	System.out.println("Geef een code met een spatie ertussen, bijvoorbeeld: rood rood rood rood ");
	System.out.println("De geheime code is: " + String.join(" ", secretCode)); // string join zet de elementen in
										   // een string
	return console.nextLine().split(" ");
    }

    public boolean checkWin(String[] guessCode)
    {
	for (int i = 0; i < 4; i++)
	{
	    if (!guessCode[i].equals(secretCode[i]))
	    {
		return false;
	    }
	}
	return true;
    }

    public void FirstFeedback(String[] guessCode)
    {
	int correctColorAndPosition = 0;
	boolean[] codeMatched = new boolean[4];
	boolean[] guessMatched = new boolean[4];

	for (int i = 0; i < 4; i++)
	{
	    if (guessCode[i].equals(secretCode[i]))
	    {
		correctColorAndPosition++;
		codeMatched[i] = true;
		guessMatched[i] = true;
	    }
	}

	System.out.println("Juiste kleur en positie: " + correctColorAndPosition);
    }

    public void SecondFeedback(String[] guessCode)
    {
	int correctColorWrongPosition = 0;
	boolean[] codeMatched = new boolean[4];
	boolean[] guessMatched = new boolean[4];

	for (int i = 0; i < 4; i++)
	{
	    if (!guessMatched[i])
	    {
		for (int j = 0; j < 4; j++)
		{
		    if (!codeMatched[j] && guessCode[i].equals(secretCode[j]))
		    {
			correctColorWrongPosition++;
			codeMatched[j] = true;
		    }
		}
	    }
	}

	System.out.println("Juiste kleur maar foute positie: " + correctColorWrongPosition);
    }

    public void resetGame()
    {
	this.turnCount = 0;
	this.isGameOver = false;
	this.secretCode = null;
    }

}